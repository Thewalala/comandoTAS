<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comandos Esenciales - Certamen TAS</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            background-color: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .btn {
            padding: 12px 24px;
            background-color: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s;
            display: inline-block;
        }
        .btn:hover {
            background-color: #2980b9;
        }
        .btn-secondary {
            background-color: #95a5a6;
        }
        .btn-secondary:hover {
            background-color: #7f8c8d;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        h2 {
            color: #34495e;
            border-bottom: 2px solid #95a5a6;
            padding-bottom: 8px;
            margin-top: 30px;
            background-color: #ecf0f1;
            padding: 10px;
            border-radius: 5px;
        }
        h3 {
            color: #555;
            margin-top: 25px;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border-left: 4px solid #3498db;
        }
        pre code {
            background-color: transparent;
            color: #f8f8f2;
            padding: 0;
        }
        .command-section {
            background-color: #f8f9fa;
            border-left: 4px solid #27ae60;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .comment {
            color: #6c757d;
            font-style: italic;
        }
        ul, ol {
            margin-left: 20px;
        }
        li {
            margin: 8px 0;
        }
        hr {
            border: none;
            border-top: 2px solid #ecf0f1;
            margin: 30px 0;
        }
        strong {
            color: #2c3e50;
        }
        .path {
            background-color: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #856404;
        }
        .tip {
            background-color: #d1ecf1;
            border-left: 4px solid #0c5460;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .tip::before {
            content: " ";
            font-weight: bold;
        }
        .warning {
            background-color: #fff3cd;
            border-left: 4px solid #856404;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .warning::before {
            content: "锔 ";
            font-weight: bold;
        }
        .toc {
            background-color: #e9ecef;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        .toc h2 {
            margin-top: 0;
            background-color: transparent;
            border: none;
            padding: 0;
        }
        .toc ul {
            list-style-type: none;
            padding-left: 0;
        }
        .toc li {
            margin: 8px 0;
        }
        .toc a {
            color: #3498db;
            text-decoration: none;
        }
        .toc a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-buttons">
            <a href="certamen_tas_resolucion.html" class="btn"> Ver Resoluci贸n Completa del Certamen</a>
        </div>

        <h1>Comandos Esenciales - Certamen TAS</h1>

        <div class="toc">
            <h2>ndice de Comandos</h2>
            <ul>
                <li><a href="#mysql">1. MySQL/MariaDB</a></li>
                <li><a href="#apache">2. Apache</a></li>
                <li><a href="#permisos">3. Permisos de WordPress</a></li>
                <li><a href="#bd">4. MySQL - Base de Datos</a></li>
                <li><a href="#dns">5. DNS - bind9/named</a></li>
                <li><a href="#php">6. PHP - M贸dulos</a></li>
                <li><a href="#virtualhost">7. Apache - Configuraci贸n VirtualHost</a></li>
                <li><a href="#red">8. Red - Configuraci贸n IP Est谩tica</a></li>
                <li><a href="#diagnostico">9. Diagn贸stico General</a></li>
                <li><a href="#archivos">10. Archivos Importantes a Conocer</a></li>
                <li><a href="#windows">11. Windows - Configuraci贸n</a></li>
                <li><a href="#utiles">12. Comandos tiles para Recordar</a></li>
                <li><a href="#secuencia">Secuencia T铆pica de Resoluci贸n</a></li>
            </ul>
        </div>

        <h2 id="mysql">1. MySQL/MariaDB - Iniciar y Habilitar Servicio</h2>

        <div class="command-section">
            <pre><code><span class="comment"># Ver estado del servicio</span>
sudo systemctl status mysql

<span class="comment"># Iniciar servicio</span>
sudo systemctl start mysql

<span class="comment"># Habilitar para inicio autom谩tico</span>
sudo systemctl enable mysql</code></pre>
        </div>

        <hr>

        <h2 id="apache">2. Apache - Resolver Conflicto de Puerto 80</h2>

        <div class="command-section">
            <pre><code><span class="comment"># Identificar qu茅 usa el puerto 80</span>
sudo lsof -i :80

<span class="comment"># Detener Nginx (si est谩 ocupando el puerto)</span>
sudo systemctl stop nginx
sudo systemctl disable nginx

<span class="comment"># Iniciar Apache</span>
sudo systemctl start apache2
sudo systemctl enable apache2

<span class="comment"># Verificar estado</span>
sudo systemctl status apache2

<span class="comment"># Verificar configuraci贸n</span>
sudo apache2ctl configtest

<span class="comment"># Ver logs de error</span>
sudo journalctl -xeu apache2.service

<span class="comment"># Habilitar m贸dulos necesarios</span>
sudo a2enmod rewrite
sudo a2enmod ssl

<span class="comment"># Reiniciar Apache</span>
sudo systemctl restart apache2</code></pre>
        </div>

        <hr>

        <h2 id="permisos">3. Permisos de WordPress</h2>

        <div class="command-section">
            <pre><code><span class="comment"># Cambiar propietario a www-data</span>
sudo chown -R www-data:www-data /sitios/wp-tas2025/

<span class="comment"># Permisos 755 para directorios</span>
sudo find /sitios/wp-tas2025/ -type d -exec chmod 755 {} \;

<span class="comment"># Permisos 644 para archivos</span>
sudo find /sitios/wp-tas2025/ -type f -exec chmod 644 {} \;

<span class="comment"># Verificar permisos</span>
ls -la /sitios/wp-tas2025/
sudo ls -ld /sitios/wp-tas2025/</code></pre>
        </div>

        <hr>

        <h2 id="bd">4. MySQL - Base de Datos</h2>

        <div class="command-section">
            <pre><code><span class="comment"># Listar bases de datos</span>
sudo mysql -e "SHOW DATABASES;"

<span class="comment"># Ver tablas de una base de datos</span>
sudo mysql -e "USE wordpress_db; SHOW TABLES;"

<span class="comment"># Ver configuraci贸n en wp-config.php</span>
sudo grep -E "DB_NAME|DB_USER|DB_PASSWORD|DB_HOST" /sitios/wp-tas2025/wp-config.php

<span class="comment"># Editar wp-config.php</span>
sudo nano /sitios/wp-tas2025/wp-config.php

<span class="comment"># Ver opciones de WordPress (URLs)</span>
sudo mysql -e "USE wordpress_db; SELECT option_name, option_value FROM wp_options WHERE option_name IN ('siteurl', 'home');"</code></pre>
        </div>

        <hr>

        <h2 id="dns">5. DNS - bind9/named</h2>

        <div class="command-section">
            <pre><code><span class="comment"># Ver estado del servicio</span>
sudo systemctl status named
sudo systemctl status bind9

<span class="comment"># Iniciar y habilitar</span>
sudo systemctl start named
sudo systemctl enable named

<span class="comment"># Buscar archivos de configuraci贸n</span>
sudo grep -r "tas2025.local" /etc/bind/

<span class="comment"># Ver configuraci贸n de zonas</span>
cat /etc/bind/named.conf.local
cat /etc/bind/named.conf.options

<span class="comment"># Editar zona DNS</span>
sudo nano /etc/bind/zones/db.tas2025.local

<span class="comment"># Verificar sintaxis de zona</span>
sudo named-checkzone tas2025.local /etc/bind/zones/db.tas2025.local

<span class="comment"># Reiniciar servicio</span>
sudo systemctl restart named

<span class="comment"># Probar resoluci贸n DNS</span>
nslookup www.tas2025.local localhost
nslookup www.tas2025.local 10.33.195.216
dig @localhost www.tas2025.local

<span class="comment"># Ver en qu茅 puertos escucha</span>
sudo ss -tulpn | grep named

<span class="comment"># Configurar servidor para usar su propio DNS</span>
sudo nano /etc/resolv.conf
<span class="comment"># Agregar: nameserver 127.0.0.1</span>

<span class="comment"># Verificar que resuelve internamente</span>
curl -I http://www.tas2025.local</code></pre>
        </div>

        <hr>

        <h2 id="php">6. PHP - M贸dulos</h2>

        <div class="command-section">
            <pre><code><span class="comment"># Ver versi贸n de PHP</span>
php -v

<span class="comment"># Verificar m贸dulos de Apache</span>
sudo apache2ctl -M | grep php

<span class="comment"># Instalar m贸dulos PHP</span>
sudo apt update
sudo apt install -y php8.1-curl php8.1-mbstring php8.1-xml php8.1-gd php8.1-zip

<span class="comment"># Reiniciar Apache despu茅s de instalar PHP</span>
sudo systemctl restart apache2</code></pre>
        </div>

        <hr>

        <h2 id="virtualhost">7. Apache - Configuraci贸n VirtualHost</h2>

        <div class="command-section">
            <pre><code><span class="comment"># Ver sitios habilitados</span>
ls -la /etc/apache2/sites-enabled/

<span class="comment"># Ver configuraci贸n de un sitio</span>
cat /etc/apache2/sites-enabled/wp-tas2025.conf

<span class="comment"># Ver todos los VirtualHosts configurados</span>
sudo apache2ctl -S

<span class="comment"># Habilitar un sitio</span>
sudo a2ensite wp-tas2025.conf

<span class="comment"># Deshabilitar un sitio</span>
sudo a2dissite 000-default.conf</code></pre>
        </div>

        <hr>

        <h2 id="red">8. Red - Configuraci贸n IP Est谩tica</h2>

        <div class="command-section">
            <pre><code><span class="comment"># Ver IP actual</span>
ip a
ip a | grep "inet 10"

<span class="comment"># Ver archivos de configuraci贸n de red</span>
ls /etc/netplan/

<span class="comment"># Ver configuraci贸n actual</span>
sudo cat /etc/netplan/00-installer-config.yaml

<span class="comment"># Editar configuraci贸n de red</span>
sudo nano /etc/netplan/00-installer-config.yaml

<span class="comment"># Deshabilitar cloud-init</span>
sudo bash -c 'echo "network: {config: disabled}" > /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg'

<span class="comment"># Renombrar archivo cloud-init</span>
sudo mv /etc/netplan/50-cloud-init.yaml /etc/netplan/50-cloud-init.yaml.bak

<span class="comment"># Corregir permisos</span>
sudo chmod 600 /etc/netplan/*.yaml

<span class="comment"># Aplicar configuraci贸n</span>
sudo netplan apply</code></pre>
        </div>

        <hr>

        <h2 id="diagnostico">9. Diagn贸stico General</h2>

        <div class="command-section">
            <pre><code><span class="comment"># Ver logs del sistema</span>
sudo journalctl -xe
sudo journalctl -u nombre_servicio -n 50

<span class="comment"># Ver logs de Apache</span>
sudo tail -n 50 /var/log/apache2/error.log
sudo tail -n 50 /var/log/apache2/access.log

<span class="comment"># Ver procesos escuchando en puertos</span>
sudo lsof -i :80
sudo lsof -i :443
sudo lsof -i :53
sudo ss -tulpn

<span class="comment"># Ver servicios activos</span>
systemctl list-units --type=service --state=running

<span class="comment"># Verificar conectividad</span>
ping 8.8.8.8
curl -I http://www.tas2025.local</code></pre>
        </div>

        <hr>

        <h2 id="archivos">10. Archivos Importantes a Conocer</h2>

        <div class="command-section">
            <h3>Apache</h3>
            <ul>
                <li><span class="path">/etc/apache2/apache2.conf</span> - Configuraci贸n principal</li>
                <li><span class="path">/etc/apache2/sites-available/</span> - Sitios disponibles</li>
                <li><span class="path">/etc/apache2/sites-enabled/</span> - Sitios habilitados</li>
                <li><span class="path">/var/log/apache2/error.log</span> - Logs de error</li>
                <li><span class="path">/var/log/apache2/access.log</span> - Logs de acceso</li>
            </ul>

            <h3>DNS (bind9)</h3>
            <ul>
                <li><span class="path">/etc/bind/named.conf</span> - Configuraci贸n principal</li>
                <li><span class="path">/etc/bind/named.conf.local</span> - Zonas locales</li>
                <li><span class="path">/etc/bind/named.conf.options</span> - Opciones</li>
                <li><span class="path">/etc/bind/zones/</span> - Archivos de zona</li>
            </ul>

            <h3>Red</h3>
            <ul>
                <li><span class="path">/etc/netplan/</span> - Configuraci贸n de red</li>
                <li><span class="path">/etc/resolv.conf</span> - Servidores DNS</li>
                <li><span class="path">/etc/hosts</span> - Resoluci贸n local</li>
            </ul>

            <h3>WordPress</h3>
            <ul>
                <li><span class="path">/sitios/wp-tas2025/wp-config.php</span> - Configuraci贸n de WordPress</li>
                <li><span class="path">/sitios/wp-tas2025/</span> - Directorio de WordPress</li>
            </ul>
        </div>

        <hr>

        <h2 id="windows">11. Windows - Configuraci贸n</h2>

        <div class="command-section">
            <pre><code><span class="comment"># Limpiar cach茅 DNS</span>
ipconfig /flushdns

<span class="comment"># Probar resoluci贸n DNS</span>
nslookup www.tas2025.local 10.33.195.216
Resolve-DnsName -Name www.tas2025.local -Server 10.33.195.216</code></pre>

            <div class="tip">
                <strong>Archivo hosts de Windows:</strong><br>
                Ubicaci贸n: <span class="path">C:\Windows\System32\drivers\etc\hosts</span><br>
                Agregar l铆nea: <code>10.33.195.216    www.tas2025.local tas2025.local</code>
            </div>
        </div>

        <hr>

        <h2 id="utiles">12. Comandos tiles para Recordar</h2>

        <div class="command-section">
            <pre><code><span class="comment"># Apagar servidor</span>
sudo poweroff

<span class="comment"># Reiniciar servidor</span>
sudo reboot

<span class="comment"># Ver usuario actual</span>
whoami

<span class="comment"># Ver directorio actual</span>
pwd

<span class="comment"># Buscar archivos</span>
sudo find /ruta -name "archivo.txt"
sudo grep -r "texto" /ruta/

<span class="comment"># Editar archivos</span>
sudo nano archivo.txt
<span class="comment"># Guardar: Ctrl+O, Enter</span>
<span class="comment"># Salir: Ctrl+X</span>

<span class="comment"># Ver contenido de archivos</span>
cat archivo.txt
sudo cat archivo.txt
less archivo.txt

<span class="comment"># Copiar archivos</span>
sudo cp origen destino

<span class="comment"># Mover/renombrar</span>
sudo mv origen destino

<span class="comment"># Permisos</span>
chmod 755 directorio/
chmod 644 archivo.txt
chown usuario:grupo archivo</code></pre>
        </div>

        <hr>

        <h2 id="secuencia">Secuencia T铆pica de Resoluci贸n de Problemas</h2>

        <div class="command-section">
            <ol>
                <li>
                    <strong>Verificar estado del servicio</strong>
                    <pre><code>sudo systemctl status nombre_servicio</code></pre>
                </li>
                <li>
                    <strong>Si est谩 inactivo, iniciar</strong>
                    <pre><code>sudo systemctl start nombre_servicio
sudo systemctl enable nombre_servicio</code></pre>
                </li>
                <li>
                    <strong>Si falla al iniciar, ver logs</strong>
                    <pre><code>sudo journalctl -xeu nombre_servicio</code></pre>
                </li>
                <li>
                    <strong>Identificar el problema espec铆fico</strong> (puerto ocupado, permisos, configuraci贸n)
                </li>
                <li>
                    <strong>Aplicar soluci贸n espec铆fica</strong>
                </li>
                <li>
                    <strong>Reiniciar servicio</strong>
                    <pre><code>sudo systemctl restart nombre_servicio</code></pre>
                </li>
                <li>
                    <strong>Verificar que funciona</strong>
                    <pre><code>sudo systemctl status nombre_servicio</code></pre>
                </li>
            </ol>
        </div>

        <div class="warning">
            <strong>Recordatorio:</strong> Siempre hacer backup de los archivos de configuraci贸n antes de editarlos:
            <pre style="margin-top: 10px;"><code>sudo cp archivo.conf archivo.conf.backup</code></pre>
        </div>

        <div class="nav-buttons" style="margin-top: 30px;">
            <a href="certamen_tas_resolucion.html" class="btn"> Ver Resoluci贸n Completa del Certamen</a>
            <a href="#" class="btn btn-secondary" onclick="window.scrollTo({top: 0, behavior: 'smooth'}); return false;">猬锔 Volver arriba</a>
        </div>

        <hr>

        <footer style="text-align: center; color: #7f8c8d; margin-top: 40px; padding-top: 20px; border-top: 2px solid #ecf0f1;">
            <p><strong>Comandos Esenciales - Certamen TAS</strong></p>
            <p>Gu铆a de referencia r谩pida para administraci贸n de sistemas</p>
            <p style="font-size: 0.9em;">Documento generado autom谩ticamente desde Markdown a HTML</p>
        </footer>
    </div>
</body>
</html>